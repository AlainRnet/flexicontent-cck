<?xml version="1.0" encoding="utf-8"?>
<form>
    <config>
        <inlinehelp button="show"/>
    </config>
    <fieldset name="default">
        <field
                name="name"
                type="text"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_NAME_FIELD_LABEL"
                filter="string"
                required="true"
                class="fcfield_textval"
        />

        <field
                name="description"
                type="textarea"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_DESCRIPTION_FIELD_LABEL"
                filter="string"
                class="txtarea  fcfield_textval"
                rows="3"
        />

        <field
                name="location"
                type="text"
                filter="string"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_LOCATION_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_LOCATION_FIELD_DESCRIPTION"
                class="fcfield_textval"
        />

        <field
                name="start_datetime"
                type="calendar"
                required="true"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_START_DATETIME_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_START_DATETIME_FIELD_DESCRIPTION"
                default="now"
                showtime="true"
                format="%Y-%m-%d %H:%M"
                singleheader="false"
                class="fcfield_date"
                showon="multi_dates:0"
                validate="calendar"
        />

        <field
                name="all_day"
                type="radio"
                default="0"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_ALL_DAY_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_ALL_DAY_FIELD_DESCRIPTION"
                class="btn-group btn-group-yesno"
                showon="multi_dates:0"
        >
            <option value="0">FLEXI_NO</option>
            <option value="1">FLEXI_YES</option>
        </field>

        <field
                name="end_datetime"
                type="calendar"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_END_DATETIME_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_END_DATETIME_FIELD_DESCRIPTION"
                default="now"
                showtime="true"
                format="%Y-%m-%d %H:%M"
                singleheader="false"
                showon="multi_dates:0[AND]all_day:0"
                class="fcfield_date"
                validate="calendar"
        />

        <field
                name="recurrent"
                type="radio"
                default="0"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENT_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENT_FIELD_DESCRIPTION"
                class="btn-group btn-group-yesno js-atc-recurrence-toggle"
        >
            <option value="0">FLEXI_NO</option>
            <option value="1">FLEXI_YES</option>
        </field>

        <field
                name="recurrence"
                type="list"
                validate="options"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_FIELD_LABEL"
                showon="recurrent:1"
        >
            <option value="daily">PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_FIELD_OPTION_DAILY</option>
            <option value="weekly">PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_FIELD_OPTION_WEEKLY</option>
            <option value="monthly">
                PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_FIELD_OPTION_MONTHLY
            </option>
            <option value="yearly">PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_FIELD_OPTION_YEARLY</option>
            <option value="rrule">PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_FIELD_OPTION_RRULE</option>
        </field>

        <field
                name="rrule"
                type="text"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_RRULE_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_RRULE_DESCRIPTION"
                showon="recurrent:1[AND]recurrence:rrule"
        />

        <field
                name="recurrence_interval"
                type="number"
                min="1"
                default="1"
                max=""
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_INTERVAL_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_INTERVAL_FIELD_DESCRIPTION"
                filter="int"
                showon="recurrent:1[AND]recurrence!:rrule"
        />

        <field
                name="recurrence_by_day"
                type="list"
                multiple="true"
                validate="options"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_BY_DAY_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_BY_DAY_FIELD_DESCRIPTION"
                hint="Requires a weekly recurrence"
                showon="recurrent:1[AND]recurrence:weekly"
                class="fcfield_textselval use_select2_lib select2_fc_checkboxes"
        >
            <option value="MO">MONDAY</option>
            <option value="TU">TUESDAY</option>
            <option value="WE">WEDNESDAY</option>
            <option value="TH">THURSDAY</option>
            <option value="FR">FRIDAY</option>
            <option value="SA">SATURDAY</option>
            <option value="SU">SUNDAY</option>
        </field>

        <field
                name="recurrence_by_month_type"
                type="list"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_RECURRENCE_BY_MONTH_TYPE_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_RECURRENCE_BY_MONTH_TYPE_FIELD_DESCRIPTION"
                validate="options"
                showon="recurrent:1[AND]recurrence:monthly"
                default="month_day"
        >
            <option value="month_day">
                PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_RECURRENCE_BY_MONTH_TYPE_FIELD_OPTION_MONTH_DAY
            </option>
            <option value="week_day">
                PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_RECURRENCE_BY_MONTH_TYPE_FIELD_OPTION_WEEK_DAY
            </option>
        </field>

        <field
                name="recurrence_by_month_day_interval"
                type="subform"
                multiple="true"
                formsource="plugins/flexicontent_fields/add_to_calendar/forms/month-day-interval.xml"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_RECURRENCE_BY_MONTH_DAY_INTERVAL_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_RECURRENCE_BY_MONTH_DAY_INTERVAL_FIELD_DESCRIPTION"
                showon="recurrent:1[AND]recurrence:monthly[AND]recurrence_by_month_type:week_day"
        />

        <field
                name="recurrence_until"
                type="calendar"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_UNTIL_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_RECURRENCE_UNTIL_FIELD_DESCRIPTION"
                showtime="false"
                format="%Y-%m-%d"
                singleheader="false"
                class="fcfield_date"
                showon="recurrent:1[AND]recurrence!:rrule"
                validate="calendar"
        />

        <field
                name="multi_dates"
                type="radio"
                default="0"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_MULTI_DATES_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_MULTI_DATES_FIELD_DESCRIPTION"
                class="btn-group btn-group-yesno js-atc-multi-dates-toggle"
                showon="recurrent:0"
        >
            <option value="0">FLEXI_NO</option>
            <option value="1">FLEXI_YES</option>
        </field>

        <field
                name="dates"
                type="subform"
                formsource="plugins/flexicontent_fields/add_to_calendar/forms/date.xml"
                multiple="true"
                label="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_DATES_FIELD_LABEL"
                description="PLG_FLEXICONTENT_FIELDS_ADD_TO_CALENDAR_EVENT_DATES_FIELD_DESCRIPTION"
                showon="recurrent:0[AND]multi_dates:1"
        />
    </fieldset>
</form>